{"id":"mcpIndexer-130","title":"Improve keyword search tokenization for code syntax","description":"Current keyword search tokenization uses simple whitespace splitting, which doesn't work well for code syntax. This causes BM25 to miss exact matches.\n\nPROBLEM FROM BENCHMARK:\n- Query: 'authenticate_user' → No keyword results found\n- Query: 'hash_password bcrypt' → No keyword results found\n- Simple split() doesn't handle code identifiers properly\n\nIMPROVEMENTS NEEDED:\n1. Snake_case handling\n   - Split 'authenticate_user' → ['authenticate', 'user']\n   - Split 'get_user_from_database' → ['get', 'user', 'from', 'database']\n\n2. CamelCase handling\n   - Split 'getUserName' → ['get', 'user', 'name']\n   - Split 'AuthService' → ['auth', 'service']\n\n3. Special character tokenization\n   - Split 'hash_password(' → ['hash', 'password']\n   - Split 'user.authenticate()' → ['user', 'authenticate']\n   - Handle dots, parens, brackets, etc.\n\n4. Preserve original tokens\n   - Keep 'authenticate_user' as single token\n   - Also add split versions: 'authenticate', 'user'\n   - This gives both exact and partial matching\n\nIMPLEMENTATION APPROACH:\n- Modify KeywordSearchIndex.index_chunks() tokenization\n- Create custom tokenizer function: tokenize_code()\n- Use regex to split on: underscores, camelCase, special chars\n- Apply to both indexing and query tokenization\n\nEXPECTED RESULTS:\n- Exact function names found by keyword search\n- Parts of compound names also searchable\n- Better hybrid search results overall\n\nTEST CASES TO ADD:\n- test_tokenize_snake_case()\n- test_tokenize_camel_case()\n- test_tokenize_with_special_chars()\n- test_keyword_search_finds_exact_function_names()\n\nLocation: src/mcpindexer/keyword_search.py","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-28T15:13:18.973099-05:00","updated_at":"2025-10-28T15:13:39.914679-05:00","dependencies":[{"issue_id":"mcpIndexer-130","depends_on_id":"mcpIndexer-128","type":"discovered-from","created_at":"2025-10-28T15:13:18.97387-05:00","created_by":"gkatechis"}]}
